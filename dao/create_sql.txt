CREATE TABLE `user_info` (
`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
`user_id` VARCHAR(30) NOT NULL UNIQUE,
`nick` VARCHAR(30) DEFAULT '' NOT NULL,
`avatar` VARCHAR(512) DEFAULT '' NOT NULL,
`created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
`updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `user_login` (
`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
`user_id` VARCHAR(30) NOT NULL UNIQUE,
`password` VARCHAR(256) NOT NULL,
`session_id` VARCHAR(256) DEFAULT '' NOT NULL,
`session_expr` BIGINT(20)  DEFAULT 0 NOT NULL,
`created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
`updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `articles` (
  `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `article_id` VARCHAR(64) NOT NULL UNIQUE,
  `title` VARCHAR(255) NOT NULL,
  `summary` VARCHAR(512) DEFAULT '' NOT NULL,
  `content` TEXT NOT NULL,
  `view_count` BIGINT(20) UNSIGNED DEFAULT 0 NOT NULL,
  `like_count` BIGINT(20) UNSIGNED DEFAULT 0 NOT NULL,
  `comment_count` BIGINT(20) UNSIGNED DEFAULT 0 NOT NULL,
  `user_id` VARCHAR(30) DEFAULT '' NOT NULL,
  `status` TINYINT(4) DEFAULT 0 NOT NULL,
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `follows` (
  `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` VARCHAR(30) DEFAULT '' NOT NULL,
  `follower_user_id` VARCHAR(30) DEFAULT '' NOT NULL,
  `status` TINYINT(4) DEFAULT 0 NOT NULL,
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
  INDEX `index_user` (`user_id`),
  INDEX `index_follower` (`follower_user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE article_comments (
    `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
    `article_id` VARCHAR(64) NOT NULL COMMENT '关联的博客文章ID',
    `user_id` VARCHAR(30) NOT NULL COMMENT '发表评论的用户的ID（如果系统中有用户系统）',
    `parent_id` BIGINT(20) DEFAULT 0 NOT NULL COMMENT '父评论的ID，如果是顶级评论则为NULL',
    `content` VARCHAR(360) DEFAULT '' NOT NULL COMMENT '评论的内容',
    `status` TINYINT(4) DEFAULT 0 NOT NULL,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '评论的创建时间',
    `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '评论的最后更新时间',
    INDEX `index_article` (`article_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `my_like_articles` (
  `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` VARCHAR(30) DEFAULT '' NOT NULL,
  `article_id` VARCHAR(64) NOT NULL COMMENT '关联的博客文章ID',
  `status` TINYINT(4) DEFAULT 0 NOT NULL,
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
  UNIQUE `uniq_user_article` (`user_id`, `article_id`, `status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;